@import "variables";

.sapling {
  position: absolute;
  left: 5%;
  bottom: 0;
  width: auto;
  height: max-content;
  max-height: max-content;
  box-sizing: border-box;
  z-index: $z-sapling;
  overflow: hidden;

  display: flex;
  flex-direction: column; // empile verticalement
  // justify-content: flex-end; // pousse l'ensemble en bas (tronc)
  align-items: center; // centre horizontalement les feuilles
}

#trunk {
  position: relative;
  width: $trunk-size * 0.2;
  height: $trunk-size;
  background-color: rgb(122, 69, 0);
  z-index: $z-trunk;
}

.leaf {
  display: block; // le contenu interne peut être flex si besoin
  width: $sapling-size * 0.5; // grand (bas)
  height: $sapling-size * 0.5;
  clip-path: polygon(50% 0, 0 100%, 100% 100%);
  background-color: $green;
  margin-bottom: $sapling-margin; // chevauchement entre étages
  z-index: $z-sapling;

  /* Aller (jour → nuit) */
  .animation-started & {
    transition: background-color $animation-duration ease-out;
    background-color: $dark-green;
  }

  /* Retour (nuit → jour) */
  .animation-reverse & {
    transition: background-color $animation-duration ease-in;
    background-color: $green;
  }
}

.leaf:nth-child(2) {
  width: $sapling-size * 0.75;
  height: $sapling-size * 0.75;
  margin-bottom: $sapling-margin * 1.5; // chevauchement entre étages
}

/* étage moyen */
.leaf:nth-child(3) {
  width: $sapling-size;
  height: $sapling-size;
}

#mountain {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 50px;
  margin: 0;
  background-color: $green;
  z-index: $z-mountain;

  .animation-started & {
    transition: background-color $animation-duration ease-out;
    background-color: $dark-green;
  }

  .animation-reverse & {
    transition: background-color $animation-duration ease-in;
    background-color: $green;
  }
}
